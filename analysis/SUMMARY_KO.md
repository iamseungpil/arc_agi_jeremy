# GPT-OSS 20B ARC-AGI 평가 결과 분석 (한국어)

## 실험 개요

**모델**: GPT-OSS 20B (openai/gpt-oss-20b)
**추론 엔진**: vLLM (24K context length, GPU 2,3 - A100 80GB × 2)
**라이브러리**: DreamCoder에서 학습한 538개 primitives
**데이터셋**: ARC-AGI Evaluation Set (400 문제)

### 설정
- Root attempts: 5회
- Fix attempts: 3 × 2 = 6회
- 문제당 최대 시도 횟수: 11회
- Temperature: 0.7
- Reasoning effort: low

---

## 📊 실험 결과 요약

| **항목** | **값** | **비율** |
|----------|--------|----------|
| **전체 처리** | 227 / 400 | 56.8% |
| **정답** | 33 | 14.5% |
| **오답 (솔루션 생성)** | 99 | 43.6% |
| **오답 (솔루션 없음)** | 95 | 41.9% |
| **평균 처리 시간** | ~12분/문제 | - |
| **총 실행 시간** | 40+ 시간 | - |
| **라이브러리 크기** | 538 primitives | - |

### 성능 비교

| **조건** | **정확도** | **개선** |
|----------|-----------|----------|
| 라이브러리 없음 (이전) | 7% | - |
| 538 primitives (현재) | 14.5% | +7.5%p (2배) |

---

## 🎯 대표 문제 분석

### 정답 맞춘 문제 (5개)

| Task ID | Grid 크기 | 패턴 유형 | 비고 |
|---------|-----------|----------|------|
| 833dafe3 | 16×16 | 대칭 + 색상 변환 | 첫 시도에 정답 |
| 140c817e | 14×14 | 색상 기반 영역 변환 | 공간 관계 유지 성공 |
| 64a7c07e | 중간 | 패턴 복제 + 경계 처리 | 엣지 케이스 처리 성공 |
| 310f3251 | 중간 | 다중 색상 변환 | 학습 예시에서 일반화 성공 |
| 332efdb3 | 중간 | 대칭 구조 변환 | 변환 규칙 정확히 적용 |

### 틀린 문제 (5개 - 솔루션 생성했지만 오답)

| Task ID | Grid 크기 | 실패 유형 | 원인 분석 |
|---------|-----------|----------|----------|
| 1a6449f1 | 27×27 | 패턴 변환 오류 | 복잡한 공간 변환 실패 |
| 414297c0 | 23×23 | 패턴 인식 오류 | 중대형 그리드 추론 어려움 |
| 22a4bbc2 | 22×22 | 변환 오류 | 잘못된 패턴 적용 |
| 7bb29440 | 20×20 | 공간 추론 실패 | 변환 로직 오류 |
| 136b0064 | 19×19 | 일반화 실패 | 핵심 변환 규칙 놓침 |

---

## 🔍 핵심 발견사항

### ✅ 강점

1. **중간 복잡도 패턴 해결력**
   - 16×16 정도 크기의 그리드에서 강점
   - 대칭, 반복 패턴 잘 인식
   - 명확한 학습 예시에서 일반화 성공

2. **코드 생성 능력**
   - 정답일 때는 라이브러리 primitives를 활용한 정확한 Python 코드 생성
   - 첫 시도 성공률이 높음 (강한 패턴 인식 능력)

3. **라이브러리 효과**
   - 538개 primitives 사용으로 7% → 14.5%로 **2배 향상**

### ❌ 약점

1. **대형 그리드 스케일링 문제**
   - 20×20 이상 그리드에서 어려움
   - 계산 복잡도와 패턴 복잡도 동시 증가

2. **솔루션 생성 실패 (41.9%)**
   - 95개 문제에서 솔루션 자체를 생성하지 못함
   - Primitive 평가 타임아웃 또는 예외 발생
   - 어려운 문제에서 코드 합성 자체가 근본적으로 어려움

3. **잘못된 솔루션 생성 (43.6%)**
   - 99개 문제에서 솔루션은 만들었지만 오답
   - 변환 로직이 틀림
   - 학습 예시에서 패턴 일반화 실패
   - 코드는 만들지만 패턴 식별에 어려움

4. **Fix layer 효과 부족**
   - 6회 추가 시도에도 불구하고 많은 오답이 수정되지 않음

### ⚙️ 계산 병목

1. **Primitive 평가 시간**: 문제당 ~10분 (CPU-bound)
2. **순차 처리**: 병렬화 없음
3. **GPU 활용도**: Primitive 평가 단계에서 낮음

---

## 💡 개선 방향

### 단기 개선안

1. **병렬 primitive 평가**: 배치 처리로 속도 향상
2. **타임아웃 최적화**: 대형 그리드용 전략 개선
3. **컨텍스트 우선순위**: 관련성 높은 primitives에 집중

### 장기 연구 방향

1. **대형 그리드 처리 전략**
   - 계층적 분해
   - 영역 기반 처리
   - 적응형 해상도

2. **Fix layer 개선**
   - 더 나은 오류 진단
   - 타겟팅된 수정 프롬프트
   - 점진적 디버깅

3. **라이브러리 확장**
   - 공간 변환 primitives 추가
   - 대형 그리드 처리용 primitives
   - 조합 전략 포함

4. **하이브리드 접근법**
   - 패턴 인식: 신경망
   - 실행: 심볼릭 solver

---

## 📈 결론

GPT-OSS 20B (538-primitive library)는 ARC-AGI 평가에서 **14.5% 정확도**를 달성:

- ✅ **2배 성능 향상** (라이브러리 없음 7% → 538 primitives 14.5%)
- ✅ **중간 복잡도 패턴**(16×16 그리드)에서 강점
- ❌ **대형 그리드**(20×20+)와 복잡한 추상 추론에서 어려움

시스템은 추상 추론 작업의 프로그램 합성에서 가능성을 보여주며, 계산 최적화와 향상된 추론 전략을 통한 명확한 개선 경로를 제시합니다.

**진행 상황**: 실험은 계속 진행 중 (173/400 문제 남음, 43.3%)

---

## 📁 파일 구조

```
/home/ubuntu/arc_agi_jeremy/analysis/
├── README.md                    # 영어 버전 상세 분석
├── SUMMARY_KO.md               # 한국어 버전 요약
├── visualize_results.py        # 시각화 스크립트
├── analyze_solutions.py        # 통계 분석 스크립트
└── images/
    ├── correct_833dafe3.png    # 정답 사례 1
    ├── correct_140c817e.png    # 정답 사례 2
    ├── correct_64a7c07e.png    # 정답 사례 3
    ├── correct_310f3251.png    # 정답 사례 4
    ├── correct_332efdb3.png    # 정답 사례 5
    ├── incorrect_1a6449f1.png  # 오답 사례 1 (27×27)
    ├── incorrect_414297c0.png  # 오답 사례 2 (23×23)
    ├── incorrect_22a4bbc2.png  # 오답 사례 3 (22×22)
    ├── incorrect_7bb29440.png  # 오답 사례 4 (20×20)
    └── incorrect_136b0064.png  # 오답 사례 5 (19×19)
```

---

**생성 일시**: 2025-10-31
**실험 경로**: `/data/dreamlang/gptoss_sequential_20251029_090617/`
**로그 파일**: `/data/dreamlang/gptoss_sequential_20251029_090617/run.log`
